<div class="mt-4">
	<table class="table table-striped" >
		<% if @shop.comments.any? %>
			<thead class="thead-light">
			</thead>
			<tbody>
				<% @shop.comments.each do |comment| %>
					<tr>
						<td>
							<%= comment.comment %>
						</td>
						<td><%= link_to '削除', shop_comment_path(@shop.id, comment.id), method: :delete, data: { confirm: "コメント「#{comment.comment}」を削除します。よろしいですか？" }, class: "btn btn-danger" %>
						</td>
						<td>
							<div id="like-icon-comment-<%= comment.id.to_s %>">
								<% if user_signed_in? && comment.liked_by(current_user).present? %>
									<%= link_to 'いいねを取り消す', shop_comment_like_path(@shop.id, comment.id, comment.liked_by(current_user)), method: :delete, remote: true, class: "loved hide-text" %>
								<% else %>
									<%= link_to 'いいね', shop_comment_likes_path(@shop.id, comment.id), method: :post, remote: true, class: "love hide-text" %>
								<% end %>
							</div>
						</td>
						<td>
							<div id="like-text-comment-<%= comment.id.to_s %>">
								<%= render "comments/like_text", { likes: comment.likes } %>
							</div>
						</td>
					</tr>
				<% end %>
			</tbody>
		<% else %>
			<p>コメントがありません。</p>
		<% end %>
	</table>
</div>
